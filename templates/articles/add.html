{% extends "articles/base.html" %}
{% load article_tags %}

{% block title %}{% firstof MODULE_ARTICLES_LABEL 'Article' %} Add{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{{ STATIC_URL }}css/jquery-ui/jquery-ui-1.8.2.custom.css">
<link rel="stylesheet" href="{{ STATIC_URL }}css/timepicker.css" />
<link rel="stylesheet" href="{{ STATIC_URL }}css/articles.css">
<script type="text/javascript" src="{{ STATIC_URL }}tinymce/tiny_mce.js"></script>
{% endblock %}

{% block body %}

<div class="t">
    {% article_nav request.user %}
	
    <h1>{% firstof MODULE_ARTICLES_LABEL 'Article' %} Add</h1>

	{% if form.errors %}
	<div class="errors">
		<p>Please review the fields below. Thank you.</p>
		<ul>
		{% for field in form %}
			{% if field.errors %}
				<li><a href="javascript:;">{{ field.label_tag }}</a></li>	
			{% endif %}
		{% endfor %}
		</ul>
	</div>
	{% endif %}

    <div class="article-wrap">
    	<form action="{% url article.add %}" method="post">
    	<div class="forms">

			<div class="item">
				<div class="errs">{{ form.headline.errors }}</div>
				<div class="label">{{ form.headline.label_tag }}</div>
				<div class="field">{{ form.headline }}</div>
				<div class="help">{{ form.headline.help_text }}</div>
				<div class="clear"></div>
			</div>

			<div class="item">
				<div class="errs">{{ form.slug.errors }}</div>
				<div class="label">{{ form.slug.label_tag }}</div>
				<div class="field">{{ form.slug }}</div>
				<div class="help">{{ form.slug.help_text }}</div>
				<div class="clear"></div>
			</div>

			<div class="item">
				<div class="errs">{{ form.summary.errors }}</div>
				<div class="label">{{ form.summary.label_tag }}</div>
				<div class="field">{{ form.summary }}</div>
				<div class="help">{{ form.summary.help_text }}</div>
				<div class="clear"></div>
			</div>

			<div class="item">
				<div class="errs">{{ form.body.errors }}</div>
				<div class="label">{{ form.body.label_tag }}</div>
				<div class="field">{{ form.body }}</div>
				<div class="help">{{ form.body.help_text }}</div>
				<div class="clear"></div>
			</div>

			<div class="item">
				<div class="errs">{{ form.source.errors }}</div>
				<div class="label">{{ form.source.label_tag }}</div>
				<div class="field">{{ form.source }}</div>
				<div class="help">{{ form.source.help_text }}</div>
				<div class="clear"></div>
			</div>

			<div class="item">
				<div class="errs">{{ form.website.errors }}</div>
				<div class="label">{{ form.website.label_tag }}</div>
				<div class="field">{{ form.website }}</div>
				<div class="help">{{ form.website.help_text }}</div>
				<div class="clear"></div>
			</div>

			<div class="item-dt">
				<div class="errs">{{ form.release_dt.errors }}</div>
				<div class="label">{{ form.release_dt.label_tag }}</div>
				<div class="field">{{ form.release_dt }}</div>
				<div class="help">{{ form.release_dt.help_text }}</div>
				<div class="clear"></div>
			</div>

			<div class="item">
				<div class="errs">{{ form.timezone.errors }}</div>
				<div class="label">{{ form.timezone.label_tag }}</div>
				<div class="field">{{ form.timezone }}</div>
				<div class="help">{{ form.timezone.help_text }}</div>
				<div class="clear"></div>
			</div>

			<div class="item">
				<div class="errs">{{ form.first_name.errors }}</div>
				<div class="label">{{ form.first_name.label_tag }}</div>
				<div class="field">{{ form.first_name }}</div>
				<div class="help">{{ form.first_name.help_text }}</div>
				<div class="clear"></div>
			</div>

			<div class="item">
				<div class="errs">{{ form.last_name.errors }}</div>
				<div class="label">{{ form.last_name.label_tag }}</div>
				<div class="field">{{ form.last_name }}</div>
				<div class="help">{{ form.last_name.help_text }}</div>
				<div class="clear"></div>
			</div>

			<div class="item">
				<div class="errs">{{ form.phone.errors }}</div>
				<div class="label">{{ form.phone.label_tag }}</div>
				<div class="field">{{ form.phone }}</div>
				<div class="help">{{ form.phone.help_text }}</div>
				<div class="clear"></div>
			</div>

			<div class="item">
				<div class="errs">{{ form.fax.errors }}</div>
				<div class="label">{{ form.fax.label_tag }}</div>
				<div class="field">{{ form.fax }}</div>
				<div class="help">{{ form.fax.help_text }}</div>
				<div class="clear"></div>
			</div>

			<div class="item">
				<div class="errs">{{ form.email.errors }}</div>
				<div class="label">{{ form.email.label_tag }}</div>
				<div class="field">{{ form.email }}</div>
				<div class="help">{{ form.email.help_text }}</div>
				<div class="clear"></div>
			</div>

			<div class="item">
				<div class="errs">{{ form.tags.errors }}</div>
				<div class="label">{{ form.tags.label_tag }}</div>
				<div class="field">{{ form.tags }}</div>
				<div class="help">{{ form.tags.help_text }}</div>
				<div class="clear"></div>
			</div>

			<div class="item-checkbox">
				<div class="errs">{{ form.allow_anonymous_view.errors }}</div>
				<div class="field">{{ form.allow_anonymous_view }}</div>
				<div class="label">{{ form.allow_anonymous_view.label_tag }}</div>
				<div class="help">{{ form.allow_anonymous_view.help_text }}</div>
				<div class="clear"></div>
			</div>

			<div class="item-checkbox">
				<div class="errs">{{ form.allow_user_view.errors }}</div>
				<div class="field">{{ form.allow_user_view }}</div>
				<div class="label">{{ form.allow_user_view.label_tag }}</div>
				<div class="help">{{ form.allow_user_view.help_text }}</div>
				<div class="clear"></div>
			</div>

			<div class="item-checkbox">
				<div class="errs">{{ form.allow_user_edit.errors }}</div>
				<div class="field">{{ form.allow_user_edit }}</div>
				<div class="label">{{ form.allow_user_edit.label_tag }}</div>
				<div class="help">{{ form.allow_user_edit.help_text }}</div>
				<div class="clear"></div>
			</div>

			<div class="item-hr"></div>

			<div class="item-checkbox">
				<div class="errs">{{ form.syndicate.errors }}</div>
				<div class="field">{{ form.syndicate }}</div>
				<div class="label">{{ form.syndicate.label_tag }}</div>
				<div class="help">{{ form.syndicate.help_text }}</div>
				<div class="clear"></div>
			</div>

			<div class="item-checkbox">
				<div class="errs">{{ form.featured.errors }}</div>
				<div class="field">{{ form.featured }}</div>
				<div class="label">{{ form.featured.label_tag }}</div>
				<div class="help">{{ form.featured.help_text }}</div>
				<div class="clear"></div>
			</div>

			<div class="item-checkbox">
				<div class="errs">{{ form.not_official_content.errors }}</div>
				<div class="field">{{ form.not_official_content }}</div>
				<div class="label">{{ form.not_official_content.label_tag }}</div>
				<div class="help">{{ form.not_official_content.help_text }}</div>
				<div class="clear"></div>
			</div>

			<div class="item-checkbox">
				<div class="errs">{{ form.status.errors }}</div>
				<div class="field">{{ form.status }}</div>
				<div class="label">{{ form.status.label_tag }}</div>
				<div class="help">{{ form.status.help_text }}</div>
				<div class="clear"></div>
			</div>
			
			<div class="item-hr-clear"></div>

			<div class="item">
				<div class="errs">{{ form.status_detail.errors }}</div>
				<div class="label">{{ form.status_detail.label_tag }}</div>
				<div class="field">{{ form.status_detail }}</div>
				<div class="help">{{ form.status_detail.help_text }}</div>
				<div class="clear"></div>
			</div>

			<div class="item">
				<div class="errs">{{ form.user_perms.errors }}</div>
				<div class="label">{{ form.user_perms.label_tag }}</div>
				<div class="field">{{ form.user_perms }}</div>
				<div class="help">{{ form.user_perms.help_text }}</div>
				<div class="clear"></div>
			</div>

        	<input type="submit" value="Add {% firstof MODULE_ARTICLES_LABEL 'Article' %}" />
		</div>
        </form>
    </div>

</div>
{% endblock %}

{% block extra_body %}
	<script type="text/javascript" src="{{ STATIC_URL }}js/jquery-ui-1.8.2.custom.min.js"></script>
	<script src="{{ STATIC_URL }}js/jquery.time.picker.js" type="text/javascript"></script>
	<script type="text/javascript" src="{{ STATIC_URL }}js/slug.js"></script>
	<script type="text/javascript">
		var slugit = new Slugify({
			input_element : 'input#id_headline',
			slug_element : 'input#id_slug',
			submit_element : 'input[type="submit"]',
			help: false,
			limit : 150
		});
	</script>
	<script type="text/javascript">
		$(".datepicker").datepicker({ dateFormat: 'yy-mm-dd' });
		$('.timepicker').timePicker({
		  show24Hours: false,
		  step: 15
		});
	</script>
{% endblock %}